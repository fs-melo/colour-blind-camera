
<CameraDisplayWidget>:
    canvas:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self._rect_pos
            size: self._rect_size
            texture: self.texture
            tex_coords: root.tex_coords
    on_texture: print("CDW on_texture")
    on_resolution: print("CDW on_resolution", self.resolution)
    on_touch_down: self.correct_camera = not self.correct_camera


FloatLayout:
    orientation: "vertical"
    CameraDisplayWidget:
        id: cdw
        texture: app.texture
        resolution: app.camera_resolution
    BoxLayout:
        pos_hint: {'top': 1.}
        size_hint: 1, None
        height: dp(40)
        orientation: "horizontal"
        canvas:
            Color:
                rgba: 0.4, 0.4, 0.4, 0.4
            Rectangle:
                pos: self.pos
                size: self.size
        Widget:
        Button:
            text: "open stream 0"
            on_release: app.stream_camera_index(0)
            size_hint_x: None
            width: self.texture_size[0] + dp(20)

        Button:
            text: "open stream 1"
            on_release: app.stream_camera_index(1)
            size_hint_x: None
            width: self.texture_size[0] + dp(20)

        Button:
            text: "next camera"
            on_release: app.rotate_cameras()
            size_hint_x: None
            width: self.texture_size[0] + dp(20)

        Widget:
